
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // WARNING: The following rules are highly permissive and are NOT
    // secure for a production environment. They are configured this way
    // to allow the Next.js server-side code (Server Actions/Components)
    // to function with the Firebase Client SDK.
    //
    // For production, you MUST either:
    // 1. Refactor server-side data fetching to use the Firebase Admin SDK.
    // 2. Or, make all data fetching client-side from within authenticated routes.

    match /courses/{courseId} {
      // Anyone can read course information.
      allow read: if true;
      
      // Anyone can create, update, or delete courses.
      // Security is currently only handled by route protection in Next.js.
      allow write: if true;
    }

    match /bookings/{bookingId} {
      // Anyone can create, read, update, or delete bookings.
      // Security is currently only handled by route protection in Next.js.
      allow read, write: if true;
    }
  }
}
